{% extends 'base.html.twig' %}

{% block title %}
	PAGE shop
{% endblock %}


{% block stylesheets %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.5.1/main.min.css" integrity="sha256-uq9PNlMzB+1h01Ij9cx7zeE2OR2pLAfRw3uUUOOPKdA=" crossorigin="anonymous">

    <style>
        #calendier {
            width : 80%;
            margin : auto;
		}
		
		.container-info{
			background-image: url("{{ asset('assets/uploads/' ~ shop.img ) }}");
			background-position: center;
			background-size: cover;
			height: 15rem;
		}
		.img-product {
			max-height: 10rem;
		}

		.card-border {

		border: 4px white solid;
    	box-shadow: 0px 1px 20px 6px #cccccc;
    	border-radius: 10%;
	}
	.card-btn {
		background-color: var(--primary-color);
	}

    </style>
{% endblock %}

{% block body %}
	
		<div class="d-flex flex-column justify-content-end container-info p-0 m-0">
			<h3 class="m-0 font-w600">{{ shop.name }} ( {{ shop.adress }} )</h3>
			<p class="">Paiements acceptés au retrait : {{ shop.paiement }}</p>
		</div>
	<section class="container-fluid ">
		<div>
			<h4> Horaires d'ouverture </h4>
			<p>
			Lundi : {{ shop.lundi }} 
			Mardi : {{ shop.mardi }} 
			Mercredi : {{ shop.mercredi }} 
			Jeudi : {{ shop.jeudi }} 
			Vendredi : {{ shop.vendredi }} 
			Samedi : {{ shop.samedi }}
			Dimanche : {{ shop.dimanche }}  
			</p>
		</div>
		<div class="container-fluid p-0">
			<div class="row d-flex pl-5 m-5">
			{% if products is defined %}
				{% for product in products %}
					<div class="card card-border p-0 col-md-5 m-xl-5 m-md-2 col-xl-3">
						<img class="card-img-top img-product" src="{{ asset('assets/uploads/' ~ product.img ) }}">
						<div class="card-body">
							<h3 class="card-title m-0">{{ product.name }}</h3>
							<p class="card-text">Description : {{ product.description  }}</p>
							<p class="card-text">Prix : {{ product.price }} €</p>
							<p class="card-text"> Disponniblité : {{ product.isavailable ? 'Oui':'Non' }} </p>
						</div>
				
						
						{% if product.isavailable == true %}
					 		<button class="p-2 card-btn text-white text-center" onclick="ajouterPanierdepuisShop('{{ product.id }}','{{ product.name }}','{{ product.price }}','{{shop.id}}')">ajouter ce produit au panier!</button>
						{% else %}
						<button class="p-2 card-btn text-white text-center" disabled> Produit indisponible </button>
						{% endif %} 
						
					</div>
				{% else %}
					<tr>
						<td colspan="7">no records found</td>
					</tr>
				{% endfor %}
			{% endif %}
			</div>
			 {% if services is defined %}
				{% for service in services %}
					<div class="card m-5 col-3">
						<h3 class="card-header text-center">{{ service.name }}</h3>
						<div class="card-body">
							<p class="card-text">Prix : {{ service.price }} €</p>
						</div>
					</div>
				{% else %}
					<tr>
						<td colspan="7">no records found</td>
					</tr>
				{% endfor %}
				<a class="btn rounded-1 blue press" href="{{ path('calendar_new', {'id': shop.id}) }}">Create new</a>
			
			 <div id="calendrier"></div>
			
			{% endif %} 
		</div>
	</section>

{% block javascript %}  
    <script>
        
    </script>
{% endblock %}
{% endblock %}

